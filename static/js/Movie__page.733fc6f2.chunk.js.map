{"version":3,"sources":["_components/Movie/Movie.module.scss","_components/Movie/Movie.jsx"],"names":["module","exports","Cast","lazy","Review","Movie","useState","movie","setMovie","console","log","history","useHistory","params","useParams","location","useLocation","img","poster_path","genresList","genres","map","item","name","join","useEffect","getMovieById","id","then","film","onClick","push","state","from","className","s","paperMovie","src","alt","movieDescr","title","Date","release_date","getFullYear","vote_average","overview","linkCast","to","pathname","fallback","path","cast"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,SAAW,wBAAwB,KAAO,oBAAoB,WAAa,0BAA0B,WAAa,4B,wGCW9HC,EAAOC,gBAAK,kBAChB,gCAGIC,EAASD,gBAAK,kBAClB,gCA+EaE,UA5ED,WAAO,IAAD,EAClB,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACAC,QAAQC,IAAI,uBAAcH,GAC1B,MAAkDD,mBAAS,IAA3D,mBACMK,GADN,UACgBC,eACVC,EAASC,cACTC,EAAWC,cACXC,EAAG,0CAAsCV,EAAMW,aAE/CC,EAAU,UAAGZ,EAAMa,cAAT,aAAG,EAAcC,KAAI,SAACC,GAAD,OAAUA,EAAKC,QAAMC,KAAK,MAU/D,OAJAC,qBAAU,WACRC,YAAab,EAAOc,IAAIC,MAAK,SAACC,GAAD,OAAUrB,EAASqB,QAC/C,CAAChB,IAGF,qCACE,gCACE,wBAAQiB,QAXO,WACnBnB,EAAQoB,KAAKhB,EAASiB,MAAMC,OAUxB,qBACA,sBAAKC,UAAWC,IAAEC,WAAlB,UACE,qBAAKC,IAAKpB,EAAKqB,IAAI,KACnB,sBAAKJ,UAAWC,IAAEI,WAAlB,UACE,8BACGhC,EAAMiC,MADT,IACiB,IAAIC,KAAKlC,EAAMmC,cAAcC,cAD9C,OAGA,6CAAqC,GAArBpC,EAAMqC,aAAtB,OACA,yCACA,4BAAIrC,EAAMsC,WACV,yCACA,4BAAI1B,UAGR,cAAC,IAAD,CACEe,UAAWC,IAAEW,SACbC,GAAI,CACFC,SAAS,UAAD,OAAYnC,EAAOc,GAAnB,SACRK,MAAO,CACLC,KAAMlB,EAASiB,MAAMC,OAL3B,kBAWA,cAAC,IAAD,CACEc,GAAI,CACFC,SAAS,UAAD,OAAYnC,EAAOc,GAAnB,WACRK,MAAO,CACLC,KAAMlB,EAASiB,MAAMC,OAJ3B,uBAWF,cAAC,WAAD,CAAUgB,SAAU,6CAApB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,kBAAZ,SACE,oBAAIhB,UAAWC,IAAEgB,KAAjB,SACE,cAACjD,EAAD,CAAMyB,GAAId,EAAOc,SAGrB,cAAC,IAAD,CAAOuB,KAAK,oBAAZ,SACE,6BACE,cAAC9C,EAAD,CAAQuB,GAAId,EAAOc","file":"static/js/Movie__page.733fc6f2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"linkCast\":\"Movie_linkCast__-kBSh\",\"cast\":\"Movie_cast__1gf0D\",\"movieDescr\":\"Movie_movieDescr__3EqZ-\",\"paperMovie\":\"Movie_paperMovie__H1cnw\"};","import { useEffect, useState, lazy, Suspense } from \"react\";\r\nimport {\r\n  useParams,\r\n  useLocation,\r\n  NavLink,\r\n  Switch,\r\n  Route,\r\n  useHistory,\r\n} from \"react-router-dom\";\r\nimport s from \"./Movie.module.scss\";\r\nimport { getMovieById } from \"../../servises/api/api\";\r\n\r\nconst Cast = lazy(() =>\r\n  import(\"../Cast/Cast\" /* webpackChunkName: \"Cast__page\" */)\r\n);\r\n\r\nconst Review = lazy(() =>\r\n  import(\"../Review/Review\" /* webpackChunkName: \"Review__page\" */)\r\n);\r\n\r\nconst Movie = () => {\r\n  const [movie, setMovie] = useState({});\r\n  console.log(\"✈️ ~ movie\", movie);\r\n  const [localStorageValue, setLocalStorageValue] = useState(\"\");\r\n  const history = useHistory();\r\n  const params = useParams();\r\n  const location = useLocation();\r\n  const img = `https://image.tmdb.org/t/p/w300/${movie.poster_path}`;\r\n\r\n  const genresList = movie.genres?.map((item) => item.name).join(\", \");\r\n\r\n  const hendleGoBack = () => {\r\n    history.push(location.state.from);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getMovieById(params.id).then((film) => setMovie(film));\r\n  }, [params]);\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <button onClick={hendleGoBack}>Go back</button>\r\n        <div className={s.paperMovie}>\r\n          <img src={img} alt=\"\" />\r\n          <div className={s.movieDescr}>\r\n            <p>\r\n              {movie.title}({new Date(movie.release_date).getFullYear()})\r\n            </p>\r\n            <p>User score: {movie.vote_average * 10}%</p>\r\n            <p>Overview</p>\r\n            <p>{movie.overview}</p>\r\n            <p>Genres: </p>\r\n            <p>{genresList}</p>\r\n          </div>\r\n        </div>\r\n        <NavLink\r\n          className={s.linkCast}\r\n          to={{\r\n            pathname: `/movie/${params.id}/cast`,\r\n            state: {\r\n              from: location.state.from,\r\n            },\r\n          }}\r\n        >\r\n          Cast\r\n        </NavLink>\r\n        <NavLink\r\n          to={{\r\n            pathname: `/movie/${params.id}/review`,\r\n            state: {\r\n              from: location.state.from,\r\n            },\r\n          }}\r\n        >\r\n          Review\r\n        </NavLink>\r\n      </div>\r\n      <Suspense fallback={<div>Loading...</div>}>\r\n        <Switch>\r\n          <Route path=\"/movie/:id/cast\">\r\n            <ul className={s.cast}>\r\n              <Cast id={params.id} />\r\n            </ul>\r\n          </Route>\r\n          <Route path=\"/movie/:id/review\">\r\n            <ul>\r\n              <Review id={params.id} />\r\n            </ul>\r\n          </Route>\r\n        </Switch>\r\n      </Suspense>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Movie;\r\n"],"sourceRoot":""}